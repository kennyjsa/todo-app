(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{7997:function(e,t,n){"use strict";function r(e,t,n,r,o,a,s){try{var c=e[a](s),i=c.value}catch(u){return void n(u)}c.done?t(i):Promise.resolve(i).then(r,o)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(o,a){var s=e.apply(t,n);function c(e){r(s,o,a,c,i,"next",e)}function i(e){r(s,o,a,c,i,"throw",e)}c(void 0)}))}}n.r(t),n.d(t,{default:function(){return ge}});var a,s=n(7757),c=n.n(s),i=n(7294),u=new Uint8Array(16);function l(){if(!a&&!(a="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return a(u)}var f=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var p=function(e){return"string"===typeof e&&f.test(e)},d=[],v=0;v<256;++v)d.push((v+256).toString(16).substr(1));var h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(d[e[t+0]]+d[e[t+1]]+d[e[t+2]]+d[e[t+3]]+"-"+d[e[t+4]]+d[e[t+5]]+"-"+d[e[t+6]]+d[e[t+7]]+"-"+d[e[t+8]]+d[e[t+9]]+"-"+d[e[t+10]]+d[e[t+11]]+d[e[t+12]]+d[e[t+13]]+d[e[t+14]]+d[e[t+15]]).toLowerCase();if(!p(n))throw TypeError("Stringified UUID is invalid");return n};var m=function(e,t,n){var r=(e=e||{}).random||(e.rng||l)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var o=0;o<16;++o)t[n+o]=r[o];return t}return h(r)};function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var y=n(4942);let w,b;const g=new WeakMap,k=new WeakMap,_=new WeakMap,j=new WeakMap,C=new WeakMap;let D={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return k.get(e);if("objectStoreNames"===t)return e.objectStoreNames||_.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return N(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function E(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(b||(b=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(B(this),t),N(g.get(this))}:function(...t){return N(e.apply(B(this),t))}:function(t,...n){const r=e.call(B(this),t,...n);return _.set(r,t.sort?t.sort():[t]),N(r)}}function I(e){return"function"===typeof e?E(e):(e instanceof IDBTransaction&&function(e){if(k.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",a),e.removeEventListener("abort",a)},o=()=>{t(),r()},a=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",o),e.addEventListener("error",a),e.addEventListener("abort",a)}));k.set(e,t)}(e),t=e,(w||(w=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,D):e);var t}function N(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",o),e.removeEventListener("error",a)},o=()=>{t(N(e.result)),r()},a=()=>{n(e.error),r()};e.addEventListener("success",o),e.addEventListener("error",a)}));return t.then((t=>{t instanceof IDBCursor&&g.set(t,e)})).catch((()=>{})),C.set(t,e),t}(e);if(j.has(e))return j.get(e);const t=I(e);return t!==e&&(j.set(e,t),C.set(t,e)),t}const B=e=>C.get(e);function L(e,t,{blocked:n,upgrade:r,blocking:o,terminated:a}={}){const s=indexedDB.open(e,t),c=N(s);return r&&s.addEventListener("upgradeneeded",(e=>{r(N(s.result),e.oldVersion,e.newVersion,N(s.transaction))})),n&&s.addEventListener("blocked",(()=>n())),c.then((e=>{a&&e.addEventListener("close",(()=>a())),o&&e.addEventListener("versionchange",(()=>o()))})).catch((()=>{})),c}const S=["get","getKey","getAll","getAllKeys","count"],V=["put","add","delete","clear"],T=new Map;function P(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(T.get(t))return T.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,o=V.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!o&&!S.includes(n))return;const a=async function(e,...t){const a=this.transaction(e,o?"readwrite":"readonly");let s=a.store;return r&&(s=s.index(t.shift())),(await Promise.all([s[n](...t),o&&a.done]))[0]};return T.set(t,a),a}D=(e=>({...e,get:(t,n,r)=>P(t,n)||e.get(t,n,r),has:(t,n)=>!!P(t,n)||e.has(t,n)}))(D);var F="todos",O=new(function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(0,y.Z)(this,"database",void 0),(0,y.Z)(this,"db",void 0),this.database=t}var t,n,r;return t=e,(n=[{key:"createDatabase",value:function(){var e=o(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(this.database,1,{upgrade:function(e){e.objectStoreNames.contains(F)||e.createObjectStore(F,{keyPath:"id"})}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getDatabase",value:function(){var e=o(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=4;break}return e.abrupt("return",this.db);case 4:return e.next=6,this.createDatabase();case 6:return this.db=e.sent,e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getValue",value:function(){var e=o(c().mark((function e(t){var n,r,o,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getDatabase();case 2:return n=e.sent,r=n.transaction(F,"readonly"),o=r.objectStore(F),e.next=7,o.get(t);case 7:return a=e.sent,e.abrupt("return",a);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAllValue",value:function(){var e=o(c().mark((function e(){var t,n,r,o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getDatabase();case 2:return t=e.sent,n=t.transaction(F,"readonly"),r=n.objectStore(F),e.next=7,r.getAll();case 7:return o=e.sent,e.abrupt("return",o);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"putValue",value:function(){var e=o(c().mark((function e(t){var n,r,o,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getDatabase();case 2:return n=e.sent,r=n.transaction(F,"readwrite"),o=r.objectStore(F),e.next=7,o.put(t);case 7:return a=e.sent,e.abrupt("return",a);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteValue",value:function(){var e=o(c().mark((function e(t){var n,r,o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getDatabase();case 2:return n=e.sent,r=n.transaction(F,"readwrite"),o=r.objectStore(F),e.next=7,o.get(t);case 7:if(e.sent){e.next=10;break}return e.abrupt("return",!1);case 10:return e.next=12,o.delete(t);case 12:return e.abrupt("return",!0);case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}])&&x(t.prototype,n),r&&x(t,r),e}())("todos-db");function A(e){return M.apply(this,arguments)}function M(){return(M=o(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.putValue(t);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(e){return W.apply(this,arguments)}function W(){return(W=o(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.getValue(t);case 2:if(n=e.sent){e.next=5;break}return e.abrupt("return");case 5:return n.completed=!n.completed,e.next=8,O.putValue(n);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(e){return U.apply(this,arguments)}function U(){return(U=o(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.deleteValue(t);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function X(){return Y.apply(this,arguments)}function Y(){return(Y=o(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.getAllValue();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Z=n(5893),q=(0,i.createContext)({}),J=function(e){var t=e.children,n=(0,i.useState)([]),r=n[0],a=n[1],s=function(){var e=o(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X();case 2:t=e.sent,a(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,i.useEffect)((function(){s()}),[]);var u=function(){var e=o(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={id:m(),completed:!1,text:t},e.next=3,A(n);case 3:s();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=o(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R(t);case 2:s();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=o(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K(t);case 2:s();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=o(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.filter((function(e){return e.completed})),e.next=3,Promise.all(t.map(function(){var e=o(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K(t.id);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:s();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,Z.jsx)(q.Provider,{value:{todos:r,addTodo:u,deleteTodo:f,toggleCompleted:l,clearCompleted:p},children:t})};function $(){return(0,i.useContext)(q)}var z,G=n(5979),H=n.n(G),Q=function(){var e=$().addTodo,t=(0,i.useState)(""),n=t[0],r=t[1];return(0,Z.jsx)("form",{onSubmit:function(t){t.preventDefault(),""!==n.trim()?(e(n),r("")):alert("You need to enter the task")},children:(0,Z.jsxs)("div",{className:H().todoForm,children:[(0,Z.jsx)("div",{className:H().icon}),(0,Z.jsx)("input",{type:"text",placeholder:"Create a new todo...",value:n,onChange:function(e){return r(e.target.value)}})]})})},ee=n(6814),te=n.n(ee),ne=function(e){var t=e.count,n=e.onClearCompleted;return(0,Z.jsxs)("div",{className:te().container,children:[(0,Z.jsxs)("div",{children:[t," ",t>1?"items":"item"," left"]}),(0,Z.jsx)("button",{onClick:n,className:te().clear,children:"Clear Completed"})]})},re=n(6070),oe=n.n(re),ae=[{value:"all",text:"All"},{value:"active",text:"Active"},{value:"completed",text:"Completed"}],se=function(e){var t=e.filter,n=e.onChangeFilter;return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)("div",{className:oe().container,children:ae.map((function(e){return(0,Z.jsx)("div",{onClick:function(){return n(e.value)},className:"".concat(oe().link," ").concat(e.value==t?oe().active:""),children:e.text},e.value)}))}),(0,Z.jsx)("div",{className:oe().text,children:"Drag and drop to reorder list"})]})};function ce(){return(ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var ie,ue=function(e){return i.createElement("svg",ce({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 11 9"},e),z||(z=i.createElement("path",{fill:"none",stroke:"#FFF",strokeWidth:2,d:"M1 4.304L3.696 7l6-6"})))},le=n(3954),fe=n.n(le),pe=function(e){var t=e.checked,n=e.onClick;return(0,Z.jsx)("div",{className:"".concat(fe().checkbox," ").concat(t?fe().checked:""),role:"checkbox",onClick:n,children:t&&(0,Z.jsx)(ue,{className:fe().icon})})};function de(){return(de=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var ve=function(e){return i.createElement("svg",de({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18"},e),ie||(ie=i.createElement("path",{fill:"#494C6B",fillRule:"evenodd",d:"M16.97 0l.708.707L9.546 8.84l8.132 8.132-.707.707-8.132-8.132-8.132 8.132L0 16.97l8.132-8.132L0 .707.707 0 8.84 8.132 16.971 0z"})))},he=n(9568),me=n.n(he),xe=function(e){var t=e.id,n=e.completed,r=e.text,o=e.onToggleComplete,a=e.onDelete;return(0,Z.jsxs)("div",{className:"".concat(me().todoItem," ").concat(n?me().completed:""),children:[(0,Z.jsx)(pe,{checked:n,onClick:function(){o(t)}}),(0,Z.jsx)("div",{className:me().text,children:r}),(0,Z.jsx)("div",{className:me().delete,role:"button",onClick:function(){a(t)},children:(0,Z.jsx)(ve,{})})]})},ye=n(6829),we=n.n(ye),be=function(){var e=(0,i.useState)([]),t=e[0],n=e[1],r=(0,i.useState)("all"),o=r[0],a=r[1],s=$(),c=s.todos,u=s.toggleCompleted,l=s.deleteTodo,f=s.clearCompleted;(0,i.useEffect)((function(){switch(o){case"all":n(c);break;case"active":n(c.filter((function(e){return!e.completed})));break;case"completed":n(c.filter((function(e){return e.completed})))}}),[o,c]);var p=function(e){u(e)},d=function(e){l(e)};return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)("div",{className:we().todoList,children:[t.map((function(e){return(0,Z.jsx)(xe,{id:e.id,completed:e.completed,text:e.text,onToggleComplete:p,onDelete:d},e.id)})),(0,Z.jsx)(ne,{count:c.filter((function(e){return!e.completed})).length,onClearCompleted:function(){f()}})]}),(0,Z.jsx)(se,{filter:o,onChangeFilter:function(e){return a(e)}})]})},ge=function(){return(0,Z.jsxs)(J,{children:[(0,Z.jsx)(Q,{}),(0,Z.jsx)(be,{})]})}},5301:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(7997)}])},3954:function(e){e.exports={checkbox:"styles_checkbox__3ndSY",icon:"styles_icon__1a8pO",checked:"styles_checked__1N4nb"}},6814:function(e){e.exports={container:"styles_container__1LtCF",clear:"styles_clear__3iwqy"}},6070:function(e){e.exports={container:"styles_container__1F2s3",link:"styles_link__3inRs",active:"styles_active__1cf2F",text:"styles_text__2QlEJ"}},5979:function(e){e.exports={todoForm:"styles_todoForm__I7v8X",icon:"styles_icon__1BLYl"}},9568:function(e){e.exports={todoItem:"styles_todoItem__3mwTB",text:"styles_text__3f5iH",completed:"styles_completed__kZD2J",delete:"styles_delete__3d2_V"}},6829:function(e){e.exports={todoList:"styles_todoList__3IG2V"}}},function(e){e.O(0,[774,888,179],(function(){return t=5301,e(e.s=t);var t}));var t=e.O();_N_E=t}]);